document.write(`
<div class="reveal">
<div class="slides"><section><section>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput " data-mime-type="text/markdown">
<h2 id="Freva---Data-search-and-analysis-framework-for-the-Community">Freva - Data search and analysis framework<a class="anchor-link" href="#Freva---Data-search-and-analysis-framework-for-the-Community">&#182;</a></h2>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput " data-mime-type="text/markdown">
<p><img src="Logo.png" width="640px"></img></p>

</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput " data-mime-type="text/markdown">
<p style="color:black;font-size:18px;">by: Brian Lewis, Christopher Kadow, Etor Lucio Eceiza, Andrej Fast, Martin Bergemann and many others</p>
</div>
</div>
</div>
</div></section></section><section><section>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput " data-mime-type="text/markdown">
<p><h4 style="text-align:center;">Common Problem I: Finding Data</h4>
<img src="Figure_01.jpg" width="640px"></img></p>

</div>
</div>
</div>
</div></section><section>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput " data-mime-type="text/markdown">
<p><h4 style="text-align:center;">Common Problem II: Use code of others</h4>
<img src="Figure_02.jpg" width="640px"></img></p>

</div>
</div>
</div>
</div></section><section>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput " data-mime-type="text/markdown">
<p><h4 style="text-align:center;">Common Problem III. Remember your own code</h4>
<img src="Figure_02.jpg" width="640px"></img></p>

</div>
</div>
</div>
</div></section></section><section><section>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput " data-mime-type="text/markdown">
<ul>
<li>How can we search and access various datasets efficiently?</li>
<li>How can be streamline user data analysis tools reusable and reproducible?</li>
</ul>

</div>
</div>
</div>
</div><div class="fragment">
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput " data-mime-type="text/markdown">
<h3 id="Yet-another-solution---Freva-framework">Yet another solution - Freva framework<a class="anchor-link" href="#Yet-another-solution---Freva-framework">&#182;</a></h3><ul>
<li>Freva comes with a three layer architecture</li>
</ul>

</div>
</div>
</div>
</div></div></section><section>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput " data-mime-type="text/markdown">
<p><h4 style="text-align:center; margin-bottom: -1cm;"></h4>
<img src="Concept_Map_1.png" with="540px"></img></p>

</div>
</div>
</div>
</div><div class="fragment">
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput " data-mime-type="text/markdown">
<p><p style="margin-bottom: -1cm;"></p>
<img src="Concept_Map_2.png" with="540px"></img></p>

</div>
</div>
</div>
</div></div><div class="fragment">
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput " data-mime-type="text/markdown">
<p><p style="margin-bottom: -1cm;"></p>
<img src="Concept_Map_3.png" with="540px"></img></p>

</div>
</div>
</div>
</div></div></section></section><section><section>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput " data-mime-type="text/markdown">
<h2 id="Example-I:-Searching-and-reading-CMIP6-data">Example I: Searching and reading CMIP6 data<a class="anchor-link" href="#Example-I:-Searching-and-reading-CMIP6-data">&#182;</a></h2>
</div>
</div>
</div>
</div></section><section>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput " data-mime-type="text/markdown">
<h4 id="Python-call:">Python call:<a class="anchor-link" href="#Python-call:">&#182;</a></h4><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">freva</span>
<span class="kn">import</span> <span class="nn">xarray</span> <span class="k">as</span> <span class="nn">xr</span>
<span class="n">files</span> <span class="o">=</span> <span class="n">freva</span><span class="o">.</span><span class="n">databrowser</span><span class="p">(</span>
    <span class="n">project</span><span class="o">=</span><span class="s2">&quot;cmip6&quot;</span><span class="p">,</span>
    <span class="n">experiment</span><span class="o">=</span><span class="s2">&quot;historical&quot;</span><span class="p">,</span>
    <span class="n">model</span><span class="o">=</span><span class="s2">&quot;mpi*&quot;</span><span class="p">,</span>
    <span class="n">ensemble</span><span class="o">=</span><span class="s2">&quot;r1i1*&quot;</span><span class="p">,</span>
    <span class="n">variable</span><span class="o">=</span><span class="s2">&quot;tas&quot;</span><span class="p">,</span>
    <span class="n">time_frequency</span><span class="o">=</span><span class="s2">&quot;mon&quot;</span>
<span class="p">)</span>
<span class="n">dset</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_mfdataset</span><span class="p">(</span><span class="n">files</span><span class="p">,</span> <span class="n">combine</span><span class="o">=</span><span class="s2">&quot;by_coords&quot;</span><span class="p">,</span> <span class="n">parallel</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>
</div>
<div class="fragment">
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput " data-mime-type="text/markdown">
<h4 id="CLI-call:">CLI call:<a class="anchor-link" href="#CLI-call:">&#182;</a></h4><div class="highlight"><pre><span></span>⋊  freva databrowser <span class="nv">project</span><span class="o">=</span>cmip6 <span class="nv">experiment</span><span class="o">=</span>historical <span class="nv">model</span><span class="o">=</span><span class="s1">&#39;mip*&#39;</span> <span class="nv">ensemble</span><span class="o">=</span><span class="s1">&#39;r1i1*&#39;</span> <span class="nv">time_frequency</span><span class="o">=</span>mon <span class="nv">variable</span><span class="o">=</span>tas
</pre></div>

</div>
</div>
</div>
</div></div></section><section>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput " data-mime-type="text/markdown">
<p><h4>Web UI</h4></p>
<video controls loop height="550">
    <source src="screencast.webm"type="video/webm">
    Sorry, your browser doesn't support embedded videos.
</video>
</div>
</div>
</div>
</div></section><section>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput " data-mime-type="text/markdown">
<p><h4>Inspecting metadata</h4>
<img src="Figure_05.png" with="640px"></img></p>

</div>
</div>
</div>
</div></section></section><section><section>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput " data-mime-type="text/markdown">
<h2 id="Example-II:-Data-analysis-tool-/-plugins">Example II: Data analysis tool / plugins<a class="anchor-link" href="#Example-II:-Data-analysis-tool-/-plugins">&#182;</a></h2>
</div>
</div>
</div>
</div><div class="fragment">
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput " data-mime-type="text/markdown">
<h3 id="Calculate-climate-change-signal-and-uncertainty-in-D%C3%BCren">Calculate climate change signal and uncertainty in D&#252;ren<a class="anchor-link" href="#Calculate-climate-change-signal-and-uncertainty-in-D%C3%BCren">&#182;</a></h3><ul>
<li>Where is the data for the ensemble?</li>
<li>How to select the municipality area?</li>
<li>...</li>
</ul>

</div>
</div>
</div>
</div></div></section><section>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput " data-mime-type="text/markdown">
<video controls loop height="650">
    <source src="screencast_2.webm"type="video/webm">
    Sorry, your browser doesn't support embedded videos.
</video>
</div>
</div>
</div>
</div></section><section>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput " data-mime-type="text/markdown">
<p><h4>Inspecting the results</h4>
<img src="Figure_06.png" with="640px"></img></p>

</div>
</div>
</div>
</div></section></section><section><section>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput " data-mime-type="text/markdown">
<h2 id="Setting-up-data-analysis-tools">Setting up data analysis tools<a class="anchor-link" href="#Setting-up-data-analysis-tools">&#182;</a></h2>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput " data-mime-type="text/markdown">
<ul>
<li>Freva plugin API is code agnostic</li>
<li><em>Yet</em>: User defined plugins are defined and within an configured within an python API wrapper:</li>
</ul>

</div>
</div>
</div>
</div></section><section>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput " data-mime-type="text/markdown">
<p><p style="margin-bottom: -1cm; margin-top: -1cm;"></p></p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">evaluation_system.api</span> <span class="kn">import</span> <span class="n">plugin</span>
<span class="kn">from</span> <span class="nn">evaluation_system.api.parameters</span> <span class="kn">import</span> <span class="n">File</span><span class="p">,</span> <span class="n">ParameterDictionary</span><span class="p">,</span> <span class="n">SolrField</span>
<span class="k">class</span> <span class="nc">PlottingTool</span><span class="p">(</span><span class="n">plugin</span><span class="o">.</span><span class="n">PluginAbstract</span><span class="p">):</span>
<span class="sd">&quot;&quot;&quot;Plugin that plots content of selected data.&quot;&quot;&quot;</span>
</pre></div>

</div>
</div>
</div>
</div><div class="fragment">
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput " data-mime-type="text/markdown">
<p><p style="margin-bottom: -0.44cm; margin-top: -0.44cm;"></p></p>
<div class="highlight"><pre><span></span><span class="c1"># Plugin setup</span>
    <span class="n">tool_developer</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Jane Doe&quot;</span><span class="p">,</span> <span class="s2">&quot;email&quot;</span><span class="p">:</span> <span class="s2">&quot;Jane.Doe@example.com&quot;</span><span class="p">}</span>
    <span class="n">__category__</span> <span class="o">=</span> <span class="s2">&quot;support&quot;</span>
    <span class="n">__short_description__</span> <span class="o">=</span> <span class="s2">&quot;Plot data&quot;</span>
    <span class="n">__version__</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2022</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">__parameters__</span> <span class="o">=</span> <span class="n">ParameterDictionary</span><span class="p">(</span>
        <span class="n">File</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="s2">&quot;in_file&quot;</span><span class="p">,</span>
            <span class="n">file_extension</span><span class="o">=</span><span class="s2">&quot;nc&quot;</span><span class="p">,</span>
            <span class="n">mandatory</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Select the input netCDF file.&quot;</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">SolrField</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="s2">&quot;variable&quot;</span><span class="p">,</span>
            <span class="n">mandatory</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">facet</span><span class="o">=</span><span class="s2">&quot;variable&quot;</span><span class="p">,</span>
            <span class="n">help</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Select the variables(s) to be plotted&quot;</span><span class="p">),</span>
            <span class="n">max_items</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="p">)</span>
</pre></div>

</div>
</div>
</div>
</div></div><div class="fragment">
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput " data-mime-type="text/markdown">
<p><p style="margin-bottom: -0.2cm; margin-top: -0.2cm;"></p></p>
<div class="highlight"><pre><span></span><span class="c1"># Workflow definition of the actual tool</span>
 <span class="k">def</span> <span class="nf">runTool</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">setup</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">{})</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;This method calls the actual plugin.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">call</span><span class="p">(</span>
          <span class="sa">f</span><span class="s2">&quot;python src/plot_map.py </span><span class="si">{</span><span class="n">setup</span><span class="p">[</span><span class="s1">&#39;in_file&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> -v </span><span class="si">{</span><span class="n">setup</span><span class="p">[</span><span class="s1">&#39;variable&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
</pre></div>

</div>
</div>
</div>
</div></div></section><section>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput " data-mime-type="text/markdown">
<div class="highlight"><pre><span></span>⋊  freva plugin -l
Animator: Animate data on lon/lat grids
ClimateChangeProfile: Create climate change signals.
ClimDexCalc: Calculate the ETCCDI climate extreme indices on the
             basis of daily temperature and precipitation data using
             the ClimDex software provided by PCIC.
Climpact: Process climate model data <span class="k">for</span> input of impact model
CWT: Calculate Circulation Weather Type by mean sea level pressure.
EnsemblePlotter: Create and Plot maps of multi-model ensemble means and
                 standard deviations
MoviePlotter: Plots 2D lon/lat movies <span class="k">in</span> GIF format
Papermill: Parametrize a given notebook
PlottingTool: Plot data
</pre></div>

</div>
</div>
</div>
</div><div class="fragment">
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput " data-mime-type="text/markdown">
<div class="highlight"><pre><span></span>⋊  freva plugin plottingtool --doc
PlottingTool <span class="o">(</span>v2022.1.1<span class="o">)</span>: Plot data
Options:
in_file  <span class="o">(</span>default: &lt;undefined&gt;<span class="o">)</span> <span class="o">[</span>mandatory<span class="o">]</span>
         Select the input netCDF file.
variable <span class="o">(</span>default: &lt;undefined&gt;<span class="o">)</span>
         Select the variables<span class="o">(</span>s<span class="o">)</span> to be plotted
</pre></div>

</div>
</div>
</div>
</div></div></section></section><section><section>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput " data-mime-type="text/markdown">
<h2 id="Example-III:-Users-adding-their-own-data">Example III: Users adding their own data<a class="anchor-link" href="#Example-III:-Users-adding-their-own-data">&#182;</a></h2>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput " data-mime-type="text/markdown">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">freva</span>
<span class="kn">import</span> <span class="nn">xarray</span> <span class="k">as</span> <span class="nn">xr</span>

<span class="n">user_data</span> <span class="o">=</span> <span class="n">freva</span><span class="o">.</span><span class="n">UserData</span><span class="p">()</span>
<span class="n">user_data</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;eur-11b&quot;</span><span class="p">,</span> <span class="s2">&quot;/tmp/my_awesome_data/outfile_?.nc&quot;</span><span class="p">,</span>
              <span class="n">institute</span><span class="o">=</span><span class="s2">&quot;clex&quot;</span><span class="p">,</span> <span class="n">model</span><span class="o">=</span><span class="s2">&quot;UM-RA2T&quot;</span><span class="p">,</span>
              <span class="n">experiment</span><span class="o">=</span><span class="s2">&quot;Bias-correct&quot;</span><span class="p">)</span>
<span class="n">dset</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_mfdataset</span><span class="p">(</span><span class="n">freva</span><span class="o">.</span><span class="n">databrowser</span><span class="p">(</span><span class="n">experiment</span><span class="o">=</span><span class="s2">&quot;bias*&quot;</span><span class="p">,</span> <span class="n">experiment</span><span class="o">=</span><span class="s2">&quot;clex&quot;</span><span class="p">))</span>
</pre></div>
<div class="fragment">
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput " data-mime-type="text/markdown">
<h4 id="CLI-call:">CLI call:<a class="anchor-link" href="#CLI-call:">&#182;</a></h4><div class="highlight">
    <pre><span></span>⋊  freva-user-data add eur-11b /tmp/my_awesome_data/outfile_?.nc --institute clex --model UM-RA2T --experiment Bias-correct
</pre></div>


</div>
</div>
</div>
</div></section></section><section><section>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput " data-mime-type="text/markdown">
<h2 id="A-couple-of-additional-features:">A couple of additional features:<a class="anchor-link" href="#A-couple-of-additional-features:">&#182;</a></h2><ul>
<li>Users can search their own plugin history and other users results</li>
<li>Web UI suggests similar results on plugin config</li>
<li>Full integration of workload managers</li>
</ul>

</div>
</div>
</div>
</div></section></section><section><section>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput " data-mime-type="text/markdown">
<h2 id="What's-next?">What's next?<a class="anchor-link" href="#What's-next?">&#182;</a></h2>
</div>
</div>
</div>
</div></section><section>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput " data-mime-type="text/markdown">
<ul>
<li>Freva <em>has</em> to be come a RestAPI<ul>
<li>Clients are easy to implement since we only need a couple of REST calls</li>
</ul>
</li>
<li>We teach freva the Common Workflow Language (cwl) via toil:<div class="highlight"><pre><span></span><span class="nt">cwlVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v1.0</span><span class="w"></span>
<span class="nt">class</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">CommandLineTool</span><span class="w"></span>
<span class="nt">hints</span><span class="p">:</span><span class="w"></span>
<span class="w"> </span><span class="nt">SoftwareRequirement</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">packages</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">package</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cdo</span><span class="w"></span>
<span class="nt">baseCommand</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cdo</span><span class="w"></span>
</pre></div>
</li>
<li>We add a system for <a href="https://www-regiklim.dkrz.de/plugins/climpact/setup/">ordering/pre-processing data</a></li>
<li>We add a simple interface for intake</li>
</ul>

</div>
</div>
</div>
</div></section></section>
</div>
</div>
</body>



`);
